CC ?= gcc
BUILD_DIR = ./build
SRC_DIR = ./src
TEST_DIR = ./test
TEST_CFLAGS ?= -DTEST
CMOCK_DIR ?= /home/bytul_o4ka/Coursework-a-game-of-100-matches/cmock
UNITY_DIR ?= /home/bytul_o4ka/Coursework-a-game-of-100-matches/cmock/vendor/unity
TEST_BUILD_DIR ?= ${BUILD_DIR}/test
TEST_MAKEFILE = ${TEST_BUILD_DIR}/MakefileTestSupport
OBJ ?= ${BUILD_DIR}/obj
OBJ_DIR = ${OBJ}

./build/test/obj/unity.o: /home/bytul_o4ka/Coursework-a-game-of-100-matches/cmock/vendor/unity/src/unity.c
	${CC} -o $@ -c $< -I /home/bytul_o4ka/Coursework-a-game-of-100-matches/cmock/vendor/unity/src

./build/test/obj/cmock.o: /home/bytul_o4ka/Coursework-a-game-of-100-matches/cmock/src/cmock.c
	${CC} -o $@ -c $< -I /home/bytul_o4ka/Coursework-a-game-of-100-matches/cmock/vendor/unity/src -I /home/bytul_o4ka/Coursework-a-game-of-100-matches/cmock/src

./build/test/obj/CLI.o: ./src/CLI.c
	${CC} -o $@ -c $< ${TEST_CFLAGS} -I ${SRC_DIR} ${INCLUDE_PATH}

./build/test/runners/runner_test_CLI.c: ./test/test_CLI.c
	@UNITY_DIR=${UNITY_DIR} ruby ${CMOCK_DIR}/scripts/create_runner.rb ./test/test_CLI.c ./build/test/runners/runner_test_CLI.c

./build/test/obj/runner_test_CLI.o: ./build/test/runners/runner_test_CLI.c
	${CC} -o $@ -c $< ${TEST_CFLAGS} -I ./src -I ./build/test/mocks -I /home/bytul_o4ka/Coursework-a-game-of-100-matches/cmock/vendor/unity/src -I /home/bytul_o4ka/Coursework-a-game-of-100-matches/cmock/src ${INCLUDE_PATH}

./build/test/obj/test_CLI.o: ./test/test_CLI.c ./build/test/obj/CLI.o ./build/test/mocks/mock_CIO.o ./build/test/mocks/mock_game_common.o
	${CC} -o $@ -c $< ${TEST_CFLAGS} -I ./src -I /home/bytul_o4ka/Coursework-a-game-of-100-matches/cmock/vendor/unity/src -I /home/bytul_o4ka/Coursework-a-game-of-100-matches/cmock/src -I ./build/test/mocks ${INCLUDE_PATH}

./build/test/test_CLI: ./build/test/obj/test_CLI.o ./build/test/obj/runner_test_CLI.o ./build/test/obj/CLI.o ./build/test/mocks/mock_CIO.o ./build/test/mocks/mock_game_common.o  ./build/test/obj/unity.o ./build/test/obj/cmock.o
	${CC} -o $@ ${LDFLAGS} ./build/test/obj/test_CLI.o ./build/test/obj/runner_test_CLI.o ./build/test/obj/CLI.o ./build/test/mocks/mock_CIO.o ./build/test/mocks/mock_game_common.o  ./build/test/obj/unity.o ./build/test/obj/cmock.o

./build/test/test_CLI.testresult: ./build/test/test_CLI
	-./build/test/test_CLI > ./build/test/test_CLI.testresult 2>&1

./build/test/obj/game.o: ./src/game.c
	${CC} -o $@ -c $< ${TEST_CFLAGS} -I ${SRC_DIR} ${INCLUDE_PATH}

./build/test/runners/runner_test_game.c: ./test/test_game.c
	@UNITY_DIR=${UNITY_DIR} ruby ${CMOCK_DIR}/scripts/create_runner.rb ./test/test_game.c ./build/test/runners/runner_test_game.c

./build/test/obj/runner_test_game.o: ./build/test/runners/runner_test_game.c
	${CC} -o $@ -c $< ${TEST_CFLAGS} -I ./src -I ./build/test/mocks -I /home/bytul_o4ka/Coursework-a-game-of-100-matches/cmock/vendor/unity/src -I /home/bytul_o4ka/Coursework-a-game-of-100-matches/cmock/src ${INCLUDE_PATH}

./build/test/obj/test_game.o: ./test/test_game.c ./build/test/obj/game.o ./build/test/mocks/mock_CIO.o ./build/test/mocks/mock_CLI.o
	${CC} -o $@ -c $< ${TEST_CFLAGS} -I ./src -I /home/bytul_o4ka/Coursework-a-game-of-100-matches/cmock/vendor/unity/src -I /home/bytul_o4ka/Coursework-a-game-of-100-matches/cmock/src -I ./build/test/mocks ${INCLUDE_PATH}

./build/test/test_game: ./build/test/obj/test_game.o ./build/test/obj/runner_test_game.o ./build/test/obj/game.o ./build/test/mocks/mock_CIO.o ./build/test/mocks/mock_CLI.o  ./build/test/obj/unity.o ./build/test/obj/cmock.o
	${CC} -o $@ ${LDFLAGS} ./build/test/obj/test_game.o ./build/test/obj/runner_test_game.o ./build/test/obj/game.o ./build/test/mocks/mock_CIO.o ./build/test/mocks/mock_CLI.o  ./build/test/obj/unity.o ./build/test/obj/cmock.o

./build/test/test_game.testresult: ./build/test/test_game
	-./build/test/test_game > ./build/test/test_game.testresult 2>&1

./build/test/obj/game_common.o: ./src/game_common.c
	${CC} -o $@ -c $< ${TEST_CFLAGS} -I ${SRC_DIR} ${INCLUDE_PATH}

./build/test/runners/runner_test_game_common.c: ./test/test_game_common.c
	@UNITY_DIR=${UNITY_DIR} ruby ${CMOCK_DIR}/scripts/create_runner.rb ./test/test_game_common.c ./build/test/runners/runner_test_game_common.c

./build/test/obj/runner_test_game_common.o: ./build/test/runners/runner_test_game_common.c
	${CC} -o $@ -c $< ${TEST_CFLAGS} -I ./src -I ./build/test/mocks -I /home/bytul_o4ka/Coursework-a-game-of-100-matches/cmock/vendor/unity/src -I /home/bytul_o4ka/Coursework-a-game-of-100-matches/cmock/src ${INCLUDE_PATH}

./build/test/obj/test_game_common.o: ./test/test_game_common.c ./build/test/obj/game_common.o ./build/test/mocks/mock_AI.o
	${CC} -o $@ -c $< ${TEST_CFLAGS} -I ./src -I /home/bytul_o4ka/Coursework-a-game-of-100-matches/cmock/vendor/unity/src -I /home/bytul_o4ka/Coursework-a-game-of-100-matches/cmock/src -I ./build/test/mocks ${INCLUDE_PATH}

./build/test/test_game_common: ./build/test/obj/test_game_common.o ./build/test/obj/runner_test_game_common.o ./build/test/obj/game_common.o ./build/test/mocks/mock_AI.o  ./build/test/obj/unity.o ./build/test/obj/cmock.o
	${CC} -o $@ ${LDFLAGS} ./build/test/obj/test_game_common.o ./build/test/obj/runner_test_game_common.o ./build/test/obj/game_common.o ./build/test/mocks/mock_AI.o  ./build/test/obj/unity.o ./build/test/obj/cmock.o

./build/test/test_game_common.testresult: ./build/test/test_game_common
	-./build/test/test_game_common > ./build/test/test_game_common.testresult 2>&1

./build/test/obj/AI.o: ./src/AI.c
	${CC} -o $@ -c $< ${TEST_CFLAGS} -I ${SRC_DIR} ${INCLUDE_PATH}

./build/test/runners/runner_test_AI.c: ./test/test_AI.c
	@UNITY_DIR=${UNITY_DIR} ruby ${CMOCK_DIR}/scripts/create_runner.rb ./test/test_AI.c ./build/test/runners/runner_test_AI.c

./build/test/obj/runner_test_AI.o: ./build/test/runners/runner_test_AI.c
	${CC} -o $@ -c $< ${TEST_CFLAGS} -I ./src -I ./build/test/mocks -I /home/bytul_o4ka/Coursework-a-game-of-100-matches/cmock/vendor/unity/src -I /home/bytul_o4ka/Coursework-a-game-of-100-matches/cmock/src ${INCLUDE_PATH}

./build/test/obj/test_AI.o: ./test/test_AI.c ./build/test/obj/AI.o 
	${CC} -o $@ -c $< ${TEST_CFLAGS} -I ./src -I /home/bytul_o4ka/Coursework-a-game-of-100-matches/cmock/vendor/unity/src -I /home/bytul_o4ka/Coursework-a-game-of-100-matches/cmock/src -I ./build/test/mocks ${INCLUDE_PATH}

./build/test/test_AI: ./build/test/obj/test_AI.o ./build/test/obj/runner_test_AI.o ./build/test/obj/AI.o   ./build/test/obj/unity.o ./build/test/obj/cmock.o
	${CC} -o $@ ${LDFLAGS} ./build/test/obj/test_AI.o ./build/test/obj/runner_test_AI.o ./build/test/obj/AI.o   ./build/test/obj/unity.o ./build/test/obj/cmock.o

./build/test/test_AI.testresult: ./build/test/test_AI
	-./build/test/test_AI > ./build/test/test_AI.testresult 2>&1

./build/test/mocks/mock_CIO.c: ./src/CIO.h
	@CMOCK_DIR=${CMOCK_DIR} ruby ${CMOCK_DIR}/scripts/create_mock.rb ./src/CIO.h

./build/test/mocks/mock_CIO.o: ./build/test/mocks/mock_CIO.c ./build/test/mocks/mock_CIO.h
	${CC} -o $@ -c $< ${TEST_CFLAGS} -I ./build/test/mocks -I ./src -I /home/bytul_o4ka/Coursework-a-game-of-100-matches/cmock/vendor/unity/src -I /home/bytul_o4ka/Coursework-a-game-of-100-matches/cmock/src ${INCLUDE_PATH}

./build/test/mocks/mock_game_common.c: ./src/game_common.h
	@CMOCK_DIR=${CMOCK_DIR} ruby ${CMOCK_DIR}/scripts/create_mock.rb ./src/game_common.h

./build/test/mocks/mock_game_common.o: ./build/test/mocks/mock_game_common.c ./build/test/mocks/mock_game_common.h
	${CC} -o $@ -c $< ${TEST_CFLAGS} -I ./build/test/mocks -I ./src -I /home/bytul_o4ka/Coursework-a-game-of-100-matches/cmock/vendor/unity/src -I /home/bytul_o4ka/Coursework-a-game-of-100-matches/cmock/src ${INCLUDE_PATH}

./build/test/mocks/mock_CLI.c: ./src/CLI.h
	@CMOCK_DIR=${CMOCK_DIR} ruby ${CMOCK_DIR}/scripts/create_mock.rb ./src/CLI.h

./build/test/mocks/mock_CLI.o: ./build/test/mocks/mock_CLI.c ./build/test/mocks/mock_CLI.h
	${CC} -o $@ -c $< ${TEST_CFLAGS} -I ./build/test/mocks -I ./src -I /home/bytul_o4ka/Coursework-a-game-of-100-matches/cmock/vendor/unity/src -I /home/bytul_o4ka/Coursework-a-game-of-100-matches/cmock/src ${INCLUDE_PATH}

./build/test/mocks/mock_AI.c: ./src/AI.h
	@CMOCK_DIR=${CMOCK_DIR} ruby ${CMOCK_DIR}/scripts/create_mock.rb ./src/AI.h

./build/test/mocks/mock_AI.o: ./build/test/mocks/mock_AI.c ./build/test/mocks/mock_AI.h
	${CC} -o $@ -c $< ${TEST_CFLAGS} -I ./build/test/mocks -I ./src -I /home/bytul_o4ka/Coursework-a-game-of-100-matches/cmock/vendor/unity/src -I /home/bytul_o4ka/Coursework-a-game-of-100-matches/cmock/src ${INCLUDE_PATH}

test_summary:
	@UNITY_DIR=${UNITY_DIR} ruby ${CMOCK_DIR}/scripts/test_summary.rb 

.PHONY: test_summary

test: ./build/test/test_CLI.testresult ./build/test/test_game.testresult ./build/test/test_game_common.testresult ./build/test/test_AI.testresult test_summary

